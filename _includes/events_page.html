
        {% comment %}
            This include is to generate a list of posts for use in views.
            Parameters:
                - future_events:   (bool) Include future events in the array?
                    If future_events is true, no past events will be added.
                    If it is false, only past events are added.
                    Default: false.
                - limit:    (int) How many events to add to the array.
                    Default: all (no limit).
        {% endcomment %}

        {% if include.future_events %}
            {% assign future_events = include.future_events %}
        {% endif %}
        {% if include.limit %}
            {% assign limit = include.limit %}
        {% endif %}

        {% assign post_count = 0 %}
        {% assign curDate = site.time | date: "%s" %}
        {% assign posts = "" | split: ',' %}
        {% for post in site.posts %}



            {% assign postStartDate = post.date | date: "%s" %}
            {% if future_events | default: false %}
                {% if postStartDate > curDate %}
                {% assign posts = posts | push: post %}
                {% assign post_count = post_count | plus: 1 %}
            {% endif %}

            {% if postStartDate <= curDate %}
                {% assign last_4_posts = last_4_posts | push: post %}
                {% assign post_count = post_count | plus: 1 %}
            {% endif %}
            {% if post_count == 4 %}
                {% break %}
            {% endif %}
        {% endfor %}

